<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="TriForceX" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>RetroArch Setup - MiyooCFW docs</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "RetroArch Setup";
        var mkdocs_page_input_path = "RetroArch-Setup.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> MiyooCFW docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">CFW 2.0.0</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../Home/">Home</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Console-Hotkeys/">Console Hotkeys</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Build-Image-and-SDK/">Build Image and SDK</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Build-Kernel/">Build Kernel</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Build-uBoot/">Build uBoot</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Get-the-prebuilt-SDK-from-GH-actions/">Get the prebuilt SDK from GH actions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Making-Games/">Making Games</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Using-Docker-to-Compile-Games/">Using Docker to Compile Games</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Remote-debugging/">Remote debugging</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://github.com/TriForceX/MiyooCFW/issues">Bug Reporting</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://github.com/TriForceX/MiyooCFW/discussions">Discussions Topics</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">CFW 1.3.3</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../Overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Making-Games-DEPRECATED/">Making-Games-DEPRECATED</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Build-Source-DEPRECATED/">Build Source-DEPRECATED</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Custom-Firmware-Setup/">Custom Firmware Setup</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Applications</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../Emulator-Info/">Emulator Info</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Homebrew-Info/">Homebrew Info</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DosBox-Setup/">DosBox Setup</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">RetroArch Setup</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#download-files">Download files</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#recommended-cores-by-systems">Recommended cores by systems</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#new-cores">New cores</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#integrate-with-gmenu2x">Integrate with GMenu2X</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#launch-retroarch-with-the-last-game-played">Launch Retroarch with the last game played</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >GameBoy</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../GamBatte/">GamBatte</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../OhBoy/">OhBoy</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Gameboy Advance</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../GPSP/">gpSP</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Arcade</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../MAME4All/">MAME4All</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GnGeo/">GnGeo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../FBA-A320/">FBA-A320</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >PlayStation</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../PCSX-ReARMed/">PCSX-ReARMed</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Themes</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >GMenu2X</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../Fontixel/">Fontixel</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../NewComicBook/">NewComicBook</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://github.com/mrwasterbr/retropixelbr">Retro Pixel BR</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >SimpleMenu</a>
    <ul>
                <li class="toctree-l2"><a class="" href="https://github.com/dkodr/SimUI">SimUI</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Frontends</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="https://github.com/peterthrees/Coverflow">CoverFlow</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://github.com/fgl82/simplemenu">SimpleMenu</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://github.com/MiyooCFW/gmenu2x">GMenu2X</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Projects</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../Tiny-LLM/">Tiny LLM</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Modding</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >ALL</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../Improve-Directional-Pad/">Improve Directional Pad</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >V90</a>
    <ul>
                <li class="toctree-l2"><a class="" href="https://www.nfriedly.com/techblog/2021-10-10-v90-usb-c">USB-C Fix</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >PocketGo</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../Sound-Noise-Fix/">Sound Noise Fix</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Light-Bleed-Fix/">Light Bleed Fix</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >BittBoy</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../Ghost-Key-Fix/">Ghost Key Fix</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Shoulder-Buttons/">Shoulder Buttons</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">MiyooCFW docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Applications</li>
      <li class="breadcrumb-item active">RetroArch Setup</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="this-guide-may-be-outdated">This guide may be outdated!</h1>
<p>Since <a href="https://github.com/TriForceX/MiyooCFW/releases/tag/2.0.0-beta">Version 2.0.0 Beta</a> was pre-released the following guide will change or be updated and the current one may be only for the old version 1.3.3. Be careful!</p>
<hr />
<h3 id="download-files">Download files</h3>
<p>NOTE: RetroArch is now included in 2.0.0 beta so you can skip the download/unzip steps (1 ad 2)!</p>
<ol>
<li>Download the RetroArch.7z file from the Retroarch website https://www.retroarch.com/?page=platforms go down to the Miyoo section (Pocket Go, PowKiddy Q90 / V90, New BittBoy) to download the latest stable version</li>
<li>Unzip the retroarch folder from the Retroach.7z file on the main partition. With this you can now use the Retroarch from the emulators section.
The only thing missing is the icon and background of the theme being used.</li>
<li>Some kernels need bios, which go in the .retroarch/system folder.
You can use this repository https://github.com/Abdess/retroarch_system</li>
</ol>
<h3 id="configuration">Configuration</h3>
<p>The recommended configuration is:<br />
- Main Menu - Settings - User Interface - Show Advanced Settings: Enabled</p>
<p><strong>with <code>alsa</code> audio  output (by default):</strong><br />
- Main Menu - Settings - Audio - Resampler - Audio Resampler: nearest / Resampler Quality: Minimum / Output speed (Hz): 32000</p>
<p><strong>with <code>sdl</code> audio output:</strong><br />
- Main Menu - Settings - Audio - Resampler - Audio Resampler: sync / Resampler Quality: Minimum / Output speed (Hz): 22000</p>
<p><strong>for video output:</strong><br />
- Main Menu - Settings - Video - Video Threading: Off<br />
- Main Menu - Settings - Video - Synchronization - Vertical Synchronization: On / VSync Swap: 1 / Frame Delay: 0 / Sync to Exact ...: On (for Scummvm turn Off)  </p>
<p>For Frameskip options to work (eg. PCSX, gpSP, MAME, snes9x cores), you must use default <code>alsa</code> audio driver.</p>
<p>For <strong>QuickNES</strong> core add<br />
- Main Menu - Settings - Video - Scaling - Integer Scale: on<br />
- Main Menu - Settings - Video - Image Interpolation - Nearest Neighbor<br />
- Main Menu - Settings - Video - Video Filter - Upscale_256X-320<br />
- Quick Menu - Options - Audio Mode - Linear  </p>
<p>For fullscreen scaling in <strong>QuikNES</strong> core, set:<br />
- Main Menu - Setting - Video - Scaling -Integar Scale: OFF / Keep Aspect: OFF / Crop Overscan: OFF<br />
- Quick Menu - Options - Aspect Ratio: 4:3 / Show Horizontal Overscan: ON/ Show Vertical Overscan: ON  </p>
<p>Show Vertical Overscan: ON (for correct pixels scaling) ; OFF (for accurate aspect ratio) 
with this setting ON most of games will look squashed and have black bar at the bottom
on the other hand OFF will blurr some of pixelization</p>
<p>For <strong>gpSP</strong> core add<br />
- Main Menu - Settings - Video - Video Filter - Upscale_240x160-320x240.filt <strong>(for bilinear effect)</strong><br />
- Main Menu - Settings - Video - Video Filter - Upscale_240x160-320x240-mix.filt <strong>(for improved readability)</strong></p>
<p>To save the configuration of a core<br />
- Main Menu - Configuration File - Save New Configuration</p>
<p>To save core's general settings to use with RetroArch app, while in-game:<br />
- Quick Menu -&gt; Overrides -&gt; Save Core Overrides-&gt; .....</p>
<p>All core options from Quick Menu-&gt;Options will be saved automatically upon closing content. </p>
<h3 id="recommended-cores-by-systems">Recommended cores by systems</h3>
<ul>
<li><strong>mGBA</strong> core is not recommended to use for GBA games, but GB and GBC games run fine on that core. For GBA better use core gpsp.</li>
</ul>
<p>Gambatte core is faster for GB and GBC titles and offers more options for pallete change.</p>
<ul>
<li><strong>GenesisPlusGX</strong> core is not recommended to use for MD games, but SMS and GG games run fine on that core. For MegaDrive better use Picodrive core</li>
</ul>
<p>Picodrive core is faster option for SMS games, especially if any of the video filters will be applied and if no emulated CPU overclocking is needed (for that use Genesis plus GX).</p>
<ul>
<li><strong>Snes9x 2005</strong> core has better performance with pal roms</li>
</ul>
<h3 id="new-cores">New cores</h3>
<p>You can use the nightly version for new updates that are not yet in the stable branch or for new cores that are coming out and are not included in the stable version. The cores are added in the .retroarch/cores folder</p>
<p>They are at this link:<br />
https://buildbot.libretro.com/nightly/dingux/miyoo-arm32/latest/</p>
<h3 id="integrate-with-gmenu2x">Integrate with GMenu2X</h3>
<p>ROMs can be run by launching Retroarch or by running from GMenu2X, selecting the ROM and launching the RetroArch core as if it were a native emulator.</p>
<p>To launch the Retroach cores from Gmenu2x you have to create a script and a link in gmenu2x to that script</p>
<p>The structure of the script is</p>
<pre><code>retroarch_path -v -L core_path --config config_path [rom_to_load]
</code></pre>
<hr />
<p>For example, for the Game Boy Advanced system, the <strong>gba_ra.sh</strong> script is created with the content</p>
<pre><code>#!/bin/sh
/mnt/emus/retroarch/retroarch -v -L /mnt/.retroarch/cores/gpsp_libretro.so --config /mnt/.retroarch/config/gpsp_libretro.cfg &quot;$1&quot;
</code></pre>
<p>If you haven't created a configuration for core gpsp use global configuration, the script would be</p>
<pre><code>#!/bin/sh
/mnt/emus/retroarch/retroarch -v -L /mnt/.retroarch/cores/gpsp_libretro.so --config /mnt/.retroarch/retroarch.cfg &quot;$1&quot;
</code></pre>
<p>To save the configuration of a core
* Main Menu - Configuration File - Save New Configuration</p>
<p>This script is saved in the emulators folder with the name gba_ra.sh, remember the path /mnt/emus/gba_ra.sh
You can use whatever name you want but with the .sh extension and save it in whatever folder you want on the main partition, but remember the name and the folder.</p>
<p>A new link is created in gmenu2x, in the main partition in the folder gmenu2x/sections/emulators/gba_ra with the content</p>
<pre><code>title=GBA
description=gba Retroarch
exec=/mnt/emus/gba_ra.sh
clock=702
selectordir=/mnt/roms/GBA
selectorscreens=/mnt/roms/gba/.preview
</code></pre>
<p>For more information on gmenu2x bindings
<a href="https://mtorromeo.github.io/gmenu2x/documentation/">https://mtorromeo.github.io/gmenu2x/documentation/</a></p>
<p>For Windows system's users to properly write shell scripts for these devices, you need to have End Of Line conversion se to Unix (LF) in your editing program.</p>
<hr />
<p>If you want to use a core that does not need to indicate a rom to initialize it, such as Scummvm, these would be the files to create.</p>
<pre><code>#!/bin/sh
/mnt/emus/retroarch/retroarch -v -L /mnt/.retroarch/cores/scummvm_libretro.so --config /mnt/.retroarch/config/scummvm_libretro.cfg
title=Scummvm
description=Scummvm
exec=/mnt/emus/scummvm_retroarch.sh
clock=702
</code></pre>
<p>Scummvm can also be launched indicating a rom, if you want more information on how to do it you can read this page in Spanish
<a href="http://apuntes.eduardofilo.es/2020-08-15-rg350_scummvm_launchers.html">http://apuntes.eduardofilo.es/2020-08-15-rg350_scummvm_launchers.html</a></p>
<hr />
<p>If you want to use a core that always uses the same rom to initialize it, such as <strong>NXEngine</strong> with <strong>Cave Story</strong>, these would be the files to create.</p>
<pre><code>#!/bin/sh
/mnt/emus/retroarch/retroarch -v -L /mnt/.retroarch/cores/nxengine_libretro.so --config /mnt/.retroarch/retroarch.cfg /mnt/roms/cavestory/Doukutsu.exe
</code></pre>
<pre><code>title=Cave Story
description=Cave Story
exec=/mnt/emus/cavestory_ra.sh
clock=702
</code></pre>
<p>For more information on how to integrate Retroarch in gmenu2x you can see this page in Spanish
<a href="http://apuntes.eduardofilo.es/2021-01-16-rg350_ra_installer.html">http://apuntes.eduardofilo.es/2021-01-16-rg350_ra_installer.html</a></p>
<hr />
<p>If you also add a key combination to close Retroarch, you can use not having the Retroarch cores without handling its interface.</p>
<p>A key combination is assigned to close Retroarch on
* Main Menu - Setting - Input - Hotkeys - Quit Controller Combo</p>
<p>The only thing that you will not have the icon and the background (if the theme uses a background), you have to create the image of the icon and the background</p>
<p>For example, for the Game Boy Advanced system.
For the icon on the main partition in the folder gmenu2x/skins/{Theme_you_are_using}/icons/ create an image with the name gpsp_ra.png. The easiest is to duplicate the file gpsp_rumble.png and name it gba_ra.sh.</p>
<p>For the background, not all themes use backgrounds. In the main partition in the folder gmenu2x/skins/{Theme_you_are_using}/backdrops/ create an image with the name gpsp_ra.png. The easiest is to duplicate the file gpsp_rumble.png and name it gba_ra.sh.</p>
<h3 id="launch-retroarch-with-the-last-game-played">Launch Retroarch with the last game played</h3>
<p>If you want to start from the last played game whenever you open RetroArch, these would be the files to create.</p>
<p><strong>retroarch_history.sh</strong></p>
<pre><code>#!/bin/sh
function start_retroarch {
  cd /mnt/emus/retroarch
  if ! read -n 1 -t 1 -s; then
    local history_path='/mnt/.retroarch/content_history.lpl'
    if test -f &quot;${history_path}&quot;; then
      local rom_path=&quot;$(head -n20 &quot;${history_path}&quot; | grep -Eo -m1 '/mnt/roms/[^&quot;]+')&quot;
      local core_path=&quot;$(head -n20 &quot;${history_path}&quot; | grep -Eo -m1 '/mnt/.retroarch/cores/.+\.so')&quot;
      if test -f &quot;${core_path}&quot; -a -f &quot;${rom_path}&quot;; then
        clear
        echo -e &quot;\n\n\n\n\n\n\n\n\n\n\n\n\n\n              \e[1;33m[ LOADING ]\e[0m&quot;
        ./retroarch --load-menu-on-error --libretro &quot;${core_path}&quot; &quot;${rom_path}&quot; &gt; /dev/null 2&gt;&amp;1
        return
      fi
    fi
  fi
  ./retroarch --menu &gt; /dev/null 2&gt;&amp;1
}
start_retroarch
</code></pre>
<p>A new link should be created in gmenu2x, in the main partition in the folder gmenu2x/sections/emulators/start_retroarch.sh with the content</p>
<pre><code>title=RA History
description=Retroarch History
exec=/mnt/emus/retroarch_history.sh
clock=702
</code></pre>
<p><strong>The above script is already provided with MiyooCFW 2.0.0</strong></p>
<p>(function provided from https://github.com/jahed/powkiddy-v90)</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../DosBox-Setup/" class="btn btn-neutral float-left" title="DosBox Setup"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../GamBatte/" class="btn btn-neutral float-right" title="GamBatte">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../DosBox-Setup/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../GamBatte/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
